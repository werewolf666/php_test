webpackJsonp([12],{"0EeB":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAACGklEQVR4AWJwL/ABtGMOsHoEQQCusXu1bduI0dhOg9q222NtuzEa1rbb2GzwbIQ/580+v7nf3mSTTC64u/2+5cxKHUpACSgBJaAElIBcoQSyEH6TL/cZ7DY42lTpBHw6t7w6g8b4D3CigzQCCG8I8FZRBY9GdZNCwGdwncAH/SZbKcUUQthjIeDXSrGIEfYIhfeabL0UuxDCHnLBG9pGKbZRr8EOEngMbVO073IFfr8bnm9J+CCDO0MY/vQ47gQ2XOrVO83TZp8L3uBbkzqJfTp3mn7m09k/ON2nV3rg+Z4QPb8j6VQCe+B+65+ixB+40rdniuF3hYDflZJcCE71Go0/zCcSv+BMvx4pgt8RYtrsTmkyB2aPCfjjAiLxA64P0JKE3+aGZ3vTko2ixCRssIhIfIVzg3iC8FtCwO9PazqNKexkbKiYSHwWO1V8W6W2OQT8wYzUAyIPxwZLCMBHuDC8e4zwG8WpSuAPZ7SgAYdPx4bLiMT7aBIijwkBfzQrFRlKzESAciLxtilHp+HX2boQ8MezWlKCzWYjSAXZv1/BlfFdCfwaCi9y/JyoiVFiLgJVEokX8Hhql4Yalq0OAW/mVFHvtXvOFyUemU5PG+d8gMDbOXkrgRILEbCaSACBP5nT1ypeu8diBK0NA39ainshr9VjKZ1OPp2fkupiC+y+w8RCxVP6Gj6XqZs5JSBBKAEloASUgBJQAnWpxUznIt2f4QAAAABJRU5ErkJggg=="},EiYp:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAAghJREFUaAXtWb1OAkEQ5jzjI/hztsYH0M7C2JgovoLECkgo7NBGExI7LOwuARIbfAXRRBvp9QmsLJBnMBznN5FLKI7dYQ6ywcwmm7vcfPPN3+4s3OVyOjQDmgHNgMsMeDbjtVptpdfr3QBXiON4w4bPIvc8rw/9dhAEV7D7w+FatoHIeTh+YcPNQg476+CpwmaM6yWH0xoASAojonyr1XrikEoxxWLxGLodTLLJCmDJZixZNvN2nvxIbCQ2bb6R3BoAh8QlRgNwmX2yrRVwXQFOG031sVQq0dlwlCrkPXxuNpt1HnQyShwAKM/R7jYnU5slOHW3gXAawB6c2DG7aZR+GKVMobgCKP8XbNB0OrQLOU0/jC98BcR7AG30BJv4QFIBdC/6ufyGffQo0R/XEQcAkvvhcLg6TjbNPYI/A35tGp00rDgAOHCKRO6nkXKeQb/Lwdkw4gAajcYLyGk6HQu/iTUAp+sHxsV7oFKpbEVRtGsKwPf99zAMP02YrDJxAIPBoIsuZHxPBPk3HAyyOmnSFwcA0lu0wkMTOeSvJvksZOIAcIrewQGaTod2Iafph3GtgFYgYwb+/xJCL6fDKDd69Z0xX2b1crmcJ0Ri04z+k3LOgQdAq5gdBMHhFGPwBynRbSc3tqt1CdHnHmSETl36/DPXQZnHrMPm9VwNKblmQDOgGZhZBn4BKFZ3L1sf0+8AAAAASUVORK5CYII="},O361:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAEFUlEQVR4AeRYA4xtMRD9tm3btm3btm3btm3btm3bXu/8M0lv0nR737trTXKyr+3c6akGG6J8jypeBhGFzJ07dzPgITCgQoUK4bnfO/Dyh/ny5SuQJ0+eiyBCEp7mzZu3pp8SKlCgQGJMvBpwB8gER4GsvkqoePHiETDJYOCPMrkDsBT4ovS7AvOwY7F9nBAM1wGeA6RgS/78+VOwTpEiRWKiPRNwUXS+Ad2woDDeJoR7kh3GTmiI3MD9KS4Rzle3bt3Q/BsEM6J9UPPNPaCclwhhtXEx4QIYcFOMfgLaDx8+PBTr4Tgyo31YjN3CAkoZNvB9VfQ90hDbDdJpLRGCcligJ/BDMeKMCabhb3RxsWOhPVvcE1KwFcRSsh52LRz0+qDvp6LjBEyGXjRTQviwIpQeaCbYh7H04mKHQbsL8BUgG3AExkE/Cn9XsGDBeLCxRLPjH4E2vOMeCGmMPmCSEuEy6Luj0TsMlMD4So0reAc0Ywcq5sgFnNLYyGqPUE8grDieNPi9U2PkMVBdOfJ8wHlVlx0oO1JpcfX5GC0Tks5/ojhvkvAL6MfjvHLoNOXdNEKH6GuC9hvlO3fhUOOI+W5ZJiTayTQGl+GFxBfj+YELaugAavB42bJlI4PYGLQdFJ3KPkHoJ4jk5v5ChQolQnuVndBxBGSyCL+UAu37Pk3opfA7VUxCxzKT0NFT2NrjK4T4ntgKHdiVWUroWOtnhNgx6jwt+tv5CyFgvEkgbhR8CeE4qgm/ZJVQP18jREQFgLPTpk3jKH7ZDqEXHGqgvw/ojNfpc4Tgfenw4cN/YNgdYDnAQZZTD5NLnQq+Kir0mpKQt2/f/urYsaP3CDVs2DDt3Llz6d+/f6SIA5DWQkVykhQ5fvw4DRw4sLWnCUHquLi4vCJFbty48XzHjh15rKSiSCli7Nmz58ifP3/cSRI3Nzdn/JlQrFixO3YJNWjQgK5cuUKqPHz4kNq2beshuOqIqMG1XLlytGvXLoLIxOjbt2/OI0aM0BPCeNytW7cye1Lk05MnT4bgvmjTD351VtOPVatWteBHQYrcvXuXdu7c2cSwwWR6Aj9kJRwXgeBX3KPa0mRlzRK0XLlylQLMErTmRoIGYjknTJhw/8OHD6SRdUCSEGrvmTNnqFatWvLq9noxhR0vp7BoLzZS2MKFC9OiRYvIwcHBXZn+r0zoAS4gR/NeVpJ8/J5jkuRv46dvIcmfcurUqUyYdyNJEkIcV08grFwG4YOFujKIg6dUBuUxxnBkrnIZxKmK1TIIcxcFrhmE4nq1UIREkfp+S4XiAV2hCJLlbfitUEAzq6V0XV0pDVLbZEJmpTT0uvP9841/NgxRM0Yl5/4/rIMN9BiOWULMcMwIGbAiPKQXD8Q3gY6rpMaQHgABc0cPsBS6VwAAAABJRU5ErkJggg=="},V7pq:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAACZ0lEQVR4Ae2YA6wkQRCG92yHZ9t8tu3ozOAYnW0zONu2bdu2bc79laxR22+mN49JvvVWf91VjRld8+bNyzZp0mQL+Ai+pxEfmzZtuhWU0+HNDqCkByC0S6c3VNIJP0nob7oRAplG6AVYArqBZOTeF8/+eG6F5z5gPnjjaqF/YH2zZs3cFUXJEdozSsfh6+ubG78NxX+Wg3+yhc6CeowAC/7rBS5JEUIaJiUnJ+cVFmBGDLGmaxJCgOFqBZjRmqBWaJZsGUI/AV6nVugxhriwLInBgwfnhEgC4p4wnyTCQpgdKTJEwsLC8iFWJ8S8aRb/K+gPOooKvaIC1FjAxfXr0XOr2Ovd3d0rGGQpdSJCM+w1glNBbQ8Pj9KciJubWxl90X6yinkHKQu3U+BTRYRaOyjG9rT6IgXx9mT1q/Mvq1jfwEAaDXsxKZ0iQv72/uzl5VVC34ACVoJgSMbgeZODAt3YokWLityIQijQqRAaacSsIbMEVts7IJIRMR/ZBiIjFMsI1WNEvqEzg1DQ+UVk9CMUJiLUy8nCtt/Oir6BSw/TwS4iQuucCCWY/fYm9VLDNrJeROg3N72x0eaC1AjQnjZdjWvVT15I/qbKjc7Q1OxlP5CKhq6SQezq1IawkJ4bwcHBhVwwMsXAObXnoSPoTSmJMgXBYa1H2FtYwCpJSFMdxLos60wdqVYEnSmqP258k3bIpyODeUGiETf9EYVbGjzAWPz/g+zLoI/6/OdBA33NLr0/gb1gCZhM4Ptl9BkjIUXoPp0g8Xw1+1I6PZD+bsfQTaJ0JLSHRqg82AG+gt9pxFewk1z+A9Hm4L4xNQsdAAAAAElFTkSuQmCC"},iIwF:function(t,e){},wZ11:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("Dd8w"),s=a.n(i),n=(a("vAZe"),a("NYxO")),r=a("Au9i"),o=a("erh5"),c=function(t,e,a,i,s){return Object(o.a)("/v2/ecapi.payment.pay","POST",{order:t,code:e,referer:a,channel:i,openid:s})},p=a("RuWt"),A=(a("T452"),a("Ev8B"),a("fxnj")),l=a.n(A),u=(a("7+uW"),{data:function(){return{payList:this.payList,alipay_html:this.alipay_html,config:this.config,code:this.code,type:this.type,teegon:!1}},props:{order:{type:Object}},mounted:function(){var t=this;Object(o.a)("/v2/ecapi.payment.types.list","POST",{}).then(function(e){t.payList=e.payment_types},function(t){Object(r.Toast)(t.errorMsg)}),this.$on("onPayFailed",function(e,a){var i=t.$route.query.order;t.$router.push({name:"orderDetail",query:{id:i,isFromPay:!0}})}),this.$on("onPaySuccess",function(e,a){t.goPaySucceed()})},computed:{getOrderAmount:function(){var t=this.$route.query.total;return t||""}},methods:s()({},Object(n.b)({fetchHomeBanner:"fetchHomeBanner",fetchHomeProduct:"fetchHomeProduct",fetchConfig:"fetchConfig"}),{leftClick:function(){var t=this;Object(r.MessageBox)({title:"",message:"商品一眨眼就没了</br>确定放弃支付吗？",showCancelButton:!0,cancelButtonText:"去意已决",cancelButtonClass:"cancel-button",confirmButtonText:"再想想",confirmButtonClass:"confirm-button-red"}).then(function(e){"cancel"===e&&t.$router.push({name:"order",params:{order:p.a.ORDER_STATUS.CREATED}})})},payType:function(t){"wxpay_jsapi"==t?this.type=t:this.code=t},pay:function(){var t=this,e=this.code,a=this.type,i=this.$route.query.order,s=null,n=null;if(0!=this.teegon||"teegon.wap"!=e){this.$route.query.order;s=window.location.protocol+"//"+window.location.host+window.location.pathname+"#/paySucceed?order="+i,"wxpay_jsapi"==a&&(n="wxpay_jsapi"),e&&("teegon.wap"!=e||a)?i&&("wxpay.web"==e&&this.fetchConfig().then(function(a){var r=a.config["wechat.web"],o=t.$cookie.get("o"),p=t;l.a.config({debug:!1,appId:r.app_id,timestamp:r.timestamp,nonceStr:r.nonceStr,signature:r.signature,jsApiList:["chooseWXPay"]}),l.a.ready(function(){c(i,e,s,n,o).then(function(t){if(t&&t.wxpay){var e=t;return p.$cookie.set("orderid",i),l.a.chooseWXPay({timestamp:e.wxpay.timestamp.toString(),nonceStr:e.wxpay.nonce_str,package:e.wxpay.packages,signType:"MD5",paySign:e.wxpay.sign,success:function(t){return"chooseWXPay:ok"==t.errMsg?p.$emit("onPaySuccess",t.errMsg):p.$emit("onPayFailed",t.errMsg),!0},cancel:function(t){p.$emit("onPayFailed","1")},fail:function(t){p.$emit("onPayFailed",t.errMsg)}})}return!1},function(t){})})}),"wxpay.h5"==e&&c(i,e,s,n,null).then(function(e){e&&e.result&&e.result.mweb_url&&(e.result.mweb_url=e.result.mweb_url+"&redirect_url="+encodeURIComponent(s),t.$cookie.set("orderid",i),window.location.href=e.result.mweb_url)},function(t){Object(r.Toast)(t.errorMsg)}),"alipay.wap"!=e&&"wxpay_jsapi"!=a||c(i,e,s,n,null).then(function(s){if(s){if("alipay.wap"==e&&s.alipay&&s.alipay.html&&(t.alipay_html=s.alipay.html,""!=t.alipay_html)){var n=document.createElement("div");n.innerHTML=t.alipay_html,document.body.appendChild(n),document.forms[0].submit(),t.$cookie.set("orderid",i)}"wxpay_jsapi"==a&&s.teegon&&s.teegon.url&&(window.location.href=s.teegon.url)}},function(t){Object(r.Toast)(t.errorMsg)})):Object(r.Toast)("请选择支付方式")}else this.teegon=!0},weixiPay:function(t){t.prepay_id&&(t.prepay_id="prepay_id="+t.prepay_id),this.wxApi.wxRegister(t)},goPaySucceed:function(){var t=this.$route.query.order;this.$router.push({name:"paySucceed",params:{order:t}})}})}),g={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container"},[i("mt-header",{staticClass:"header",attrs:{title:"收银台"}},[i("header-item",{attrs:{slot:"left",isBack:!0},on:{onclick:t.leftClick},slot:"left"})],1),t._v(" "),i("div",{staticClass:"top-wrapper"},[t._m(0),t._v(" "),i("div",{staticClass:"row-wrapper subtitle-wrapper"},[i("label",{staticClass:"subtitle"},[t._v("合计：")]),t._v(" "),i("label",{staticClass:"price"},[t._v("￥ "+t._s(t.getOrderAmount))])])]),t._v(" "),t._l(t.payList,function(e){return t.teegon?t._e():i("div",{staticClass:"item-wrapper",on:{click:function(a){t.payType(e.code)}}},[i("div",{staticClass:"item-left-wrapper"},["alipay.wap"==e.code?i("img",{staticClass:"icon",attrs:{src:a("ycGN")}}):t._e(),t._v(" "),"unionpay.app"==e.code?i("img",{staticClass:"icon",attrs:{src:a("O361")}}):t._e(),t._v(" "),"wxpay.web"==e.code?i("img",{staticClass:"icon",attrs:{src:a("V7pq")}}):t._e(),t._v(" "),"wxpay.h5"==e.code?i("img",{staticClass:"icon",attrs:{src:a("V7pq")}}):t._e(),t._v(" "),"teegon.wap"==e.code?i("img",{staticClass:"icon",attrs:{src:a("O361")}}):t._e(),t._v(" "),i("label",{staticClass:"item-title"},[t._v(t._s(e.name))])]),t._v(" "),i("div",{staticClass:"item-right-wrapper"},["alipay.wap"==t.code&&"alipay.wap"==e.code?i("img",{staticClass:"item-select",attrs:{src:a("0EeB")}}):t._e(),t._v(" "),"unionpay.app"==t.code&&"unionpay.app"==e.code?i("img",{staticClass:"item-select",attrs:{src:a("0EeB")}}):t._e(),t._v(" "),"wxpay.web"==t.code&&"wxpay.web"==e.code?i("img",{staticClass:"item-select",attrs:{src:a("0EeB")}}):t._e(),t._v(" "),"teegon.wap"==t.code&&"teegon.wap"==e.code?i("img",{staticClass:"item-select",attrs:{src:a("0EeB")}}):t._e(),t._v(" "),"wxpay.h5"==t.code&&"wxpay.h5"==e.code?i("img",{staticClass:"item-select",attrs:{src:a("0EeB")}}):t._e()])])}),t._v(" "),t.teegon?i("div",{staticClass:"item-wrapper",on:{click:function(e){t.payType("wxpay_jsapi")}}},[t._m(1),t._v(" "),i("div",{staticClass:"item-right-wrapper"},["wxpay_jsapi"==t.type?i("img",{staticClass:"item-select",attrs:{src:a("0EeB")}}):t._e()])]):t._e(),t._v(" "),i("div",{staticClass:"action-wrapper"},[i("gk-button",{staticClass:"button",attrs:{type:"primary"},on:{click:t.pay}},[t._v("立即付款")])],1)],2)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row-wrapper title-wrapper"},[e("img",{staticClass:"icon",attrs:{src:a("EiYp")}}),this._v(" "),e("label",{staticClass:"title"},[this._v("订单提交成功，请选择付款方式")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"item-left-wrapper"},[e("img",{staticClass:"icon",attrs:{src:a("V7pq")}}),this._v(" "),e("label",{staticClass:"item-title"},[this._v("天工收银微信支付")])])}]};var w=a("VU/8")(u,g,!1,function(t){a("iIwF")},"data-v-a4e00230",null);e.default=w.exports},ycGN:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAACnklEQVR4Ae2YA8zdUBiGO9vegtm2F8wIZtu2FcxWNG/BHMxmPNu27e3s+f6cJk1z1Z7/5k43ecqDt596bq16gxvH0aJFi6TlypUbDxfgM6go81nPNV7mtnXEbbhYGM6BihHnREOcIFFni4kxZ0WLpd2kfhPGW9qPyoAT5cuXP2ZjONZ5yzCAr4rfnXDtp0mgW6ZPFK+C4L8gU0H5KlWqlC0YFSpUyBRAUJIwNPQtiKyZyH5UCLoHEDSNfjOCwf0N0XTZxQCCvkc7hn7CtyCcDSDoC/wIRHwJmi8TmVKxYsW0uuYZCzqN7xd5hX7NnYJIgHYGFjIHUU1crtwSS0EvnWucOnXqpOLaR1NBH2A99IfmxEANzN6Y4z4wFXbC6yDWmeO0Duf9jLKMAZZVr149S7hAnTRpUkIKZEnaD6Lffp15XypXrpzLVSjvmAgaKAMppRIwWTl+vWCITArtsVLBYAJr1aqVnrbVXdbpYlKHNulBmsjSIkTHZ7CEdhWCiHMKWijF0pcgTJ1fi/nhcYHWiiBOFEyUvPfEynDSi6Cr2ueXfab59EgKJC4vppPiejhBuyClzzTfAUnsSfU4SSKo3qVoNxlOBhJ0RLKG/SOPYnbh6hQuMYfgriSC1KBILEf7HNDWKeiDLmADIxTyQ5Yn8hD2oPXr10/GtT3uIqldlCMSYe4s66MzY0SIF+FP2Ia5K7ueMDPsBhWEr7BWSokXQe8RU8iegOOe7Bez3yh76M+ARQIEan2Prj7KmM0CZaYVqMbIBJGYl0GL034FKJ/cgVHOpbAVwi37ZcmAa/LYL0rpyPWKCOkqSQAqnvgEK8Sdkf5R/AnvQUWZjyLoPKjfhHO/1ccGQmHs7/Q55oxo+V0+WJ21y83v8ElvnHO5+wuJfDW25rKzkQAAAABJRU5ErkJggg=="}});
//# sourceMappingURL=12.0b43e698d741add684fd.js.map