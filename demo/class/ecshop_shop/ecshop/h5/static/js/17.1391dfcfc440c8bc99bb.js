webpackJsonp([17],{"20Ku":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAABPklEQVR4Ae2YNUIEQRBFuQB2Aw6CZDgngAuQcQjc4QrrLt00ISkW4a4p7g79mdpo3WUqeLsjf6reuFS1DXSXNCyYDBa0uuWQ1S3uNL9xeNBMFUXQ4RFNJJEUm1u1FFzQ5ha9RnO5bpOyPhaYhwyyRRPUu3klwSGwYk5Bm1uO6uKbiRGXdIy9JMi8UOYyWT30TEfwGIULCXqmLBgILNXhLKUzdSePYjuRPuiZXDDBcZQHYh2/LPgOSlXwyxFYbAAYLkXB68gyGE6cZUG5gnutHh5PQXDcyMqVwgl6xPz/PM9CRzJBZIysmC8RQRZkQRYEYXpo7U8miAxNCxdSEBxqPpMJUuawFO4k70qpGoDhUn2aOQHl9jzIgv48CvqzFrR5VU++BFE7a0Fg98g+erv7zoEYauygZqV/fmNBFmTBP4xN9dpGKmpLAAAAAElFTkSuQmCC"},"8stH":function(e,t,r){"use strict";r.d(t,"a",function(){return n}),r.d(t,"b",function(){return o});var s=r("erh5"),n=function(){return Object(s.a)("/v2/ecapi.search.keyword.list","POST",{})},o=function(e,t,r,n,o,i,c,a){return Object(s.a)("/v2/ecapi.search.product.list","POST",{brand:e,category:t,shop:r,keyword:n,sort_key:o,sort_value:i,page:c,per_page:a})}},K9Fu:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=r("woOf"),n=r.n(s),o=r("Dd8w"),i=r.n(o),c=r("NYxO"),a=r("Au9i"),u={data:function(){return{keywords:this.keyword?this.keyword:"",currenKeywords:this.utils.fetch("keyword")}},props:["keyword"],methods:i()({},Object(c.d)({changeKey:"changeKey"}),{search:function(e,t){if(t.replace(/\s+/g,"").length<=0)return Object(a.Toast)("请输入您要搜索的关键字"),!1;if(this.keywords=t,t){this.currenKeywords.push(t);var r=this.utils.arrayFilter(this.currenKeywords);this.utils.save("keyword",r)}this.$router.push({name:"products",query:{keywords:this.keywords}}),e&&this.utils.stopPrevent(e)},cancel:function(){this.clear(),this.$route.params.isFromHome?this.$router.go(-1):this.$router.push({name:"category"})},clear:function(){this.keywords="",this.changeKey(this.keywords)}})},d={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"ui-search-header"},[s("form",{attrs:{action:"#"},on:{submit:function(t){t.preventDefault(),e.search(t,e.keywords)}}},[s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.keywords,expression:"keywords"}],attrs:{type:"search",placeholder:"请输入您要搜索的商品"},domProps:{value:e.keywords},on:{input:function(t){t.target.composing||(e.keywords=t.target.value)}}}),e._v(" "),e.keywords.length>0?s("img",{attrs:{src:r("y9By")},on:{click:function(t){e.clear()}}}):e._e()]),e._v(" "),s("span",{on:{click:function(t){e.cancel()}}},[e._v("取消")])])])},staticRenderFns:[]};var h=r("VU/8")(u,d,!1,function(e){r("KSyD")},"data-v-2cc92ae4",null).exports,y=r("8stH"),l={data:function(){return{hotKeywords:[],currenKeywords:[],keywords:this.$store.state.search.currentKey?this.$store.state.search.currentKey:""}},components:{searchHeader:h},computed:i()({},Object(c.e)({currentKey:function(e){return e.search.currentKey}})),created:function(){this.getHotKeywords(),this.getCurrentKey()},methods:i()({},Object(c.d)({changeKey:"changeKey"}),{getHotKeywords:function(){var e=this;Object(y.a)().then(function(t){e.hotKeywords=n()([],t.keywords,e.hotKeywords)})},getKey:function(e){e.content?this.keywords=e.content:this.keywords=e,this.changeKey(this.keywords),this.$refs.header.search(null,this.keywords)},deleteCurrent:function(){this.utils.save("keyword",[]),this.currenKeywords=this.utils.fetch("keyword")},getCurrentKey:function(){this.currenKeywords=this.utils.fetch("keyword")}})},A={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"search-wrapper"},[s("search-header",{ref:"header",attrs:{keyword:e.keywords}}),e._v(" "),s("div",{staticClass:"search-body"},[e.currenKeywords.length>0?s("div",{staticClass:"list current-search"},[s("div",{staticClass:"list-header"},[s("span",[e._v("最近搜索")]),e._v(" "),s("img",{attrs:{src:r("20Ku")},on:{click:function(t){e.deleteCurrent()}}})]),e._v(" "),s("ul",e._l(e.currenKeywords,function(t,r){return s("li",{key:r,staticClass:"item",on:{click:function(r){e.getKey(t)}}},[e._v(e._s(t))])}))]):e._e(),e._v(" "),s("div",{staticClass:"list hot-wrapper"},[e._m(0),e._v(" "),s("ul",e._l(e.hotKeywords,function(t,r){return s("li",{key:r,staticClass:"item",on:{click:function(r){e.getKey(t)}}},[e._v(e._s(t.content))])}))])])],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"list-header"},[t("span",[this._v("热门搜索")])])}]};var w=r("VU/8")(l,A,!1,function(e){r("QBZN")},"data-v-0beb073a",null);t.default=w.exports},KSyD:function(e,t){},QBZN:function(e,t){},y9By:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAASFBMVEUAAAD////b29vZ2dnY2NjY2NjY2Njf39/a2trZ2dnY2Njb29va2trY2NjZ2dnY2NjZ2dnd3d3v7+/19fXb29v////4+PjY2NjBYdISAAAAGHRSTlMABkeVv9nzGJbx/weC9Mcu4y3///////KwFRwWAAAAsUlEQVR4AYWTBQLDMAhFiXtd7n/S+diY9L960QSgF0ob67x31mhF34SYMpNiIEmpLQtaLcK8y190b076If9gGNn+S/7QePgowr+Ics+j5r/UW4D2X6Fdg8R8QCRSvD/TvNxflnniHVOkWXtet5vGsq0z/9Rk+H3ZLhr8eGDIZqkh5dmSy1JDyrMjn6WGlGePFHYYAiYJl4k3Cm41LBYuN2wY3HKwaXHb48FBoweGF4z/GYoHJJ4tT4H5AAAAAElFTkSuQmCC"}});
//# sourceMappingURL=17.1391dfcfc440c8bc99bb.js.map