webpackJsonp([39],{MHjR:function(e,t){},ihAq:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("Dd8w"),n=s.n(a),i=(s("vAZe"),s("NYxO")),o=s("vMJZ"),r=s("Au9i"),u={data:function(){return{username:"",params:{values:null,gender:null,nickname:null,avatar_url:null},oldpass:"",newpass:"",confirpass:"",type:this.$route.params.type,title:1==this.$route.params.type?"修改昵称":"修改密码"}},computed:n()({},Object(i.e)({user:function(e){return e.auth.user}})),watch:{username:function(e){e.length>25&&(this.username=e.substring(0,25))}},components:{},created:function(){this.setUserName()},methods:n()({},Object(i.d)({clearToken:"signout",saveUser:"saveUser",signout:"signout"}),{goBack:function(){this.$router.go(-1)},setUserName:function(){this.username=this.user.nickname?this.user.nickname:this.user.username},clearUsername:function(){this.username=""},saveBtn:function(){this.userProfileUpdate()},userProfileUpdate:function(){var e=this,t=this.params;return t.nickname=this.username,t.nickname.length<=0?(Object(r.Toast)("请输入1-25个文字作为昵称"),!1):t.nickname.length<1||t.nickname.length>25?(Object(r.Toast)("请输入1-25个文字作为昵称"),!1):void Object(o.d)(t.values,t.gender,t.nickname,t.avatar_url).then(function(t){t&&(Object(r.Toast)("修改昵称成功"),e.saveUser({user:t.user}),e.$router.go(-1))})},updatePass:function(){var e=this;return 0===this.oldpass.length?(Object(r.Toast)("当前密码不能为空"),!1):this.oldpass.length<6||this.oldpass.length>20?(Object(r.Toast)("请输入6-20个字符的密码"),!1):0===this.newpass.length?(Object(r.Toast)("新密码不能为空"),!1):this.newpass.length<6||this.newpass.length>20?(Object(r.Toast)("请输入6-20个字符的密码"),!1):0===this.confirpass.length?(Object(r.Toast)("请输入确认密码"),!1):this.newpass.length!==this.confirpass.length?(Object(r.Toast)("确认密码与输入密码不一致"),!1):void Object(o.a)(this.oldpass,this.newpass).then(function(t){t&&(e.signout(),e.$router.push({name:"signin",params:{isFromInfoEdit:!0}}))},function(e){Object(r.Toast)(e.errorMsg)})}})},c={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ui-popup-right"},[a("mt-header",{staticClass:"header",attrs:{title:e.title}},[a("header-item",{attrs:{slot:"left",isBack:!0},on:{onclick:function(t){e.goBack()}},slot:"left"})],1),e._v(" "),1==e.type?a("div",[a("div",{staticClass:"updeta-user-name ui-common-update"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],attrs:{type:"text",placeholder:"请输入昵称"},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}}),e._v(" "),e.username.length>0?a("img",{attrs:{src:s("y9By")},on:{click:function(t){e.clearUsername()}}}):e._e()]),e._v(" "),a("div",{staticClass:"ui-save-btn"},[a("span",{on:{click:function(t){e.saveBtn()}}},[e._v("保存")])])]):e._e(),e._v(" "),2==e.type?a("div",[a("div",{staticClass:"ui-common-update"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.oldpass,expression:"oldpass"}],attrs:{type:"password",placeholder:"请输入当前密码"},domProps:{value:e.oldpass},on:{input:function(t){t.target.composing||(e.oldpass=t.target.value)}}})]),e._v(" "),a("div",{staticClass:"ui-common-update"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.newpass,expression:"newpass"}],attrs:{type:"password",placeholder:"请输入新密码"},domProps:{value:e.newpass},on:{input:function(t){t.target.composing||(e.newpass=t.target.value)}}})]),e._v(" "),a("div",{staticClass:"ui-common-update"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.confirpass,expression:"confirpass"}],attrs:{type:"password",placeholder:"确认新密码"},domProps:{value:e.confirpass},on:{input:function(t){t.target.composing||(e.confirpass=t.target.value)}}})]),e._v(" "),a("div",{staticClass:"ui-save-btn"},[a("span",{on:{click:function(t){e.updatePass()}}},[e._v("保存")])])]):e._e()],1)},staticRenderFns:[]};var l=s("VU/8")(u,c,!1,function(e){s("MHjR")},"data-v-aaaab2ce",null);t.default=l.exports},y9By:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAASFBMVEUAAAD////b29vZ2dnY2NjY2NjY2Njf39/a2trZ2dnY2Njb29va2trY2NjZ2dnY2NjZ2dnd3d3v7+/19fXb29v////4+PjY2NjBYdISAAAAGHRSTlMABkeVv9nzGJbx/weC9Mcu4y3///////KwFRwWAAAAsUlEQVR4AYWTBQLDMAhFiXtd7n/S+diY9L960QSgF0ob67x31mhF34SYMpNiIEmpLQtaLcK8y190b076If9gGNn+S/7QePgowr+Ics+j5r/UW4D2X6Fdg8R8QCRSvD/TvNxflnniHVOkWXtet5vGsq0z/9Rk+H3ZLhr8eGDIZqkh5dmSy1JDyrMjn6WGlGePFHYYAiYJl4k3Cm41LBYuN2wY3HKwaXHb48FBoweGF4z/GYoHJJ4tT4H5AAAAAElFTkSuQmCC"}});
//# sourceMappingURL=39.7882513dca449778090e.js.map